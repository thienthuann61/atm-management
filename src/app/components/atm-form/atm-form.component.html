<div class="atm-form-container !bg-white p-6 rounded-lg shadow-lg">
  <h2 mat-dialog-title class="mb-4">
    {{ isEditMode ? "Edit ATM" : "Add New ATM" }}
  </h2>

  <form [formGroup]="atmForm" (ngSubmit)="save()" class="atm-form grid gap-4">
    <mat-dialog-content class="mat-typography grid gap-4">
      <!-- ATM Name -->
      <mat-form-field appearance="outline" class="w-full">
        <mat-label>ATM Name</mat-label>
        <input matInput formControlName="name" required />
        <mat-error
          class="p-0"
          *ngIf="atmForm.get('name')?.invalid && atmForm.get('name')?.touched"
        >
          ATM name is required
        </mat-error>
      </mat-form-field>

      <!-- Manufacturer -->
      <mat-form-field appearance="outline" class="w-full">
        <mat-label>Manufacturer</mat-label>
        <input matInput formControlName="manufacturer" required />
        <mat-error
          *ngIf="
            atmForm.get('manufacturer')?.invalid &&
            atmForm.get('manufacturer')?.touched
          "
        >
          Manufacturer is required
        </mat-error>
      </mat-form-field>

      <!-- Type -->
      <mat-form-field appearance="outline" class="w-full">
        <mat-label>Type</mat-label>
        <input matInput formControlName="type" required />
        <mat-error
          *ngIf="atmForm.get('type')?.invalid && atmForm.get('type')?.touched"
        >
          Type is required
        </mat-error>
      </mat-form-field>

      <!-- Serial Number -->
      <mat-form-field appearance="outline" class="w-full">
        <mat-label>Serial Number</mat-label>
        <input matInput formControlName="serialNumber" required />
        <mat-error
          *ngIf="
            atmForm.get('serialNumber')?.invalid &&
            atmForm.get('serialNumber')?.touched
          "
        >
          Serial number is required
        </mat-error>
      </mat-form-field>

      <!-- Image URL -->
      <mat-form-field appearance="outline" class="w-full">
        <mat-label>Image URL</mat-label>
        <input matInput formControlName="image" />
        <mat-error
          *ngIf="atmForm.get('image')?.invalid && atmForm.get('image')?.touched"
        >
          Invalid image URL (must be a valid link with .png, .jpg, .jpeg, or
          .gif)
        </mat-error>
      </mat-form-field>
    </mat-dialog-content>

    <mat-dialog-actions align="end" class="mt-6">
      <button mat-stroked-button (click)="close()" class="mr-4">Cancel</button>
      <button
        mat-flat-button
        color="primary"
        type="submit"
        [disabled]="atmForm.invalid"
      >
        {{ isEditMode ? "Update" : "Create" }}
      </button>
    </mat-dialog-actions>
  </form>
</div>
